<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

  <%- include('../partials/navbar') %>

  <h2>Welcome, <%= user %>!</h2>

  <div class="alert alert-info mt-3">
    You have <strong><%= bookCount %></strong> book<%= bookCount !== 1 ? 's' : '' %> in your library.
  </div>

  <div class="mt-4 d-flex gap-2">
    <a href="/books" class="btn btn-primary">View All Books</a>
    <a href="/books/new" class="btn btn-success">Add a New Book</a>
  </div>

  <% if (recentBooks.length > 0) { %>
    <hr>
    <h4 class="mt-4">Your Recent Books</h4>
    <ul class="list-group">
      <% recentBooks.forEach(book => { %>
        <li class="list-group-item">
          <strong><%= book.title %></strong> by <%= book.author %> â€” <%= book.genre %> (<%= book.publishedYear %>)
        </li>
      <% }) %>
    </ul>
  <% } %>

</body>
</html>
